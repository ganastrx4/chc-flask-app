<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Saldo TronLink</title>
    <script src="https://cdn.jsdelivr.net/npm/@tronlink/ext"></script>
<script src="https://cdn.jsdelivr.net/npm/tronweb@4.4.0/dist/TronWeb.js"></script>

</head>
<body>
    <h1>Juego con TronLink</h1>
    <p id="saldo">Consultando saldo...</p>
    <button id="jugarBtn" disabled>Jugar (1 TRX)</button>

   <script>
    window.addEventListener("load", async () => {
        if (window.tronWeb && window.tronWeb.ready) {
            const address = window.tronWeb.defaultAddress.base58;
            console.log("Wallet conectada:", address);

            const saldo = await tronWeb.trx.getBalance(address);
            const saldoTRX = tronWeb.fromSun(saldo);
            console.log("Saldo:", saldoTRX, "TRX");

            if (saldoTRX >= 1) {
                alert("Puedes jugar con " + saldoTRX + " TRX");
            } else {
                alert("No tienes suficiente TRX para jugar.");
            }
        } else {
            alert("Por favor, conecta TronLink.");
        }
    });
</script>

</body>
</html>
