<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Login World ID Básico</title>
</head>
<body>
  <h1>Login con World ID</h1>
  <button id="loginBtn">Login World ID</button>

  <div id="info"></div>

  <script>
    const clientId = "app_7686f9027d3e3c0b53d987a3caf1e111";
    const redirectUri = "https://ganastrx4.github.io/chc-flask-app/dados.html";  // <- Cambia esta URL a tu backend

    document.getElementById('loginBtn').onclick = () => {
      const url = `https://id.worldcoin.org/authorize?client_id=${clientId}&redirect_uri=${encodeURIComponent(redirectUri)}&response_type=code&scope=openid`;
      window.location.href = url;
    };

    // Cuando el backend te redirija, muestra el código en pantalla (solo si haces redirect aquí)
    const params = new URLSearchParams(window.location.search);
    if(params.has('code')) {
      document.getElementById('info').textContent = 'Código de autorización: ' + params.get('code');
    }
  </script>
</body>
</html>
